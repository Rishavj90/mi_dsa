#include <bits/stdc++.h>
using namespace std;

int minDays(vector<int>& bloomDay, int m, int k) {
    long long n = bloomDay.size();
    long long total_flowers = (long long) m*k;
    if(total_flowers > n){
        return -1;
    }
    int low  = *min_element(bloomDay.begin(), bloomDay.end()),
        high = *max_element(bloomDay.begin(), bloomDay.end());
    while(low <= high){
        int mid = (long long)(low+high)/2;
        int boq = 0,adj = 0;
        for(int i = 0; i < n; i++){
            if(bloomDay[i] <= mid){
                adj++;
                if(adj % k == 0){
                    boq++;
                }
            }else{
                adj = 0;
            }
        }
        if(boq < m){
            low = mid+1;
        }else{
            high = mid-1;
        }
    }
    return low;
}

int main(){
    vector<int> vec = {70545,40667,26392,42712,39599,8012,27194,71384,58079,2123,66655,48459,92802,16345,43374,15924,5480,48766,38512,44416,50530,14405,42803,4953,44480,31455,12440,72556,3593,74130,59278,72043,9508,66855,74237,46991,53829,61978,8137,47408,18152,3439,20331,28085,43180,36650,6053,62782,91043,32640,62145,79424,32256,89353,96289,85104,91235,80088,96025,59996,99511,24387,36850,21709,21253,45745,46148,80258,9365,27085,11183,38053,44747,24038,91223,32454,58318,77940,20208,98572,842,31307,90663,46331,8786,32234,24599,30552,78551,67424,19443,45458,49450,37665,79859,70847,30777,96178,96183,3153,98172,11893,35919,10268,21934,2335,50721,26460,73480,27509,19905,83061,64141,28707,73406,30908,80395,26159,41057,91277,5606,5661,88593,16020,69632,8323,15448,15620,70886,54549,73260,7253,60911,91137,20479,12094,8855,1836,28300,41499,91819,73008,74394,5665,52219,15620,54739,52384,58029,92968,17981,62083,91981,96508,19249,60972,39521,13830,15488,6608,13736,51362,27864,52448,51494,79885,95293,3884,70578,22710,74436,55172,9950,43353,80624,9141,68859,37282,32267,86329,67659,71120,91860,2998,80351,25159,52001,41220,80468,10371,53613,78237,33800,7100,62740,98485,19359,54715,69926,72124,5115,11793,13679,78565,21869,38058,25728,99510,61041,969,3343,38076,10602,60200,25237,163,24865,60074,43862,46210,91344,20271,93578,3871,13940,49750,39205,9878,40590,41635,91465,40184,64128,30943,62650,8956,68732,87122,39240,44586,94095,22761,59690,44659,31623,17442,12959,95546,42005,92914,54709,57836,42010,69355,12839,96628,72214,51907,59557,15522,32454,9570,7950,1655,10935,74613,75683,59810,93208,88440,55235,87656,53296,73150,38483,77836,65796,18535,56624,78145,76390,49895,43574,19696,68477,72968,47558,35298,2479,78548,59309,55544,40991,54801,70127,99368,89354,73673,23786,13828,66816,737,31366,97522,14837,71875,40228,87855,65926,32898,87874,54926,42266,89830,27873,57257,96748,34422,82455,21523,88441,27709,62090,67451,69133,83980,33116,40539,58753,95870,94016,71041,22514,77526,57849,16983,35650,30321,3801,71317,30123,6663,49666,3152,25319,21457,82594,48216,9409,41606,50542,29576,62835,28154,65686,50257,51670,37115,39639,87369,36576,4819,95478,49486,94694,93924,88456,8650,32124,81926,65671,72387,12151,39742,42512,620,70944,66726,5004,20839,79710,57388,60517,82784,94093,15231,42388,7336,18407,73329,71062,68867,83259,96359,65669,85526,19348,55585,84258,69582,36748,51148,75308,27876,12467,13089,65263,57747,61083,75345,23601,14903,34810,26604,5113,84652,6817,57883,78712,14388,36202,15330,19196,77142,32394,66984,60089,66442,78000,43571,46804,53379,3593,74748,89977,195,50628,39949,87680,91435,59734,60873,46619,22301,80767,24120,32100,92811,86172,40614,70126,85877,53531,7141,12617,56592,58586,71715,15979,66031,24029,74368,85402,6582,22328,22607,68329,38320,18962,93820,94842,87530,50460,38322,89386,39806,39134,72955,98139,61996,62323,39546,34131,21955,1438,37544,17003,25857,59401,96138,67034,66754,70235,83729,46762,59762,91825,80205,42224,49487,58824,89578,14098,26773,59432,8195,12284,44627,95647,94974,18720,5624,249,95821,79473,54427,83963,97393,44972,57047,943,60098,43632,96292,41876,46608,78325,62567,6507,16102,18224,25241,71981,72129,91658,67587,74991,32156,94915,51746,44304,47404,82828,46877,96568,95463,54639,58466,42760,79810,83910,93899,66082,29199,47544,49191,78434,93160,78999,56421,12734,54552,55398,95331,31350,62829,9846,9777,1537,43195,40743,50579,1262,35081,73820,27824,16918,21696,4316,16879,28506,5409,4331,5912,58489,15870,92560,74665,12012,43087,10361,41855,11556,34767,36456,41055,96994,74588,603,11,88147,27586,7139,36701,15677,1972,48756,69587,13691,32741,78321,89827,14369,30641,67999,10168,95402,11112,16569,30809,76788,9393,86709,79288,81632,77248,88701,9451,57160,19435,91495,20034,58811,83118,50802,76827,98947,62504,85481,74396,26363,43537,42031,8159,85410,64958,18637,72081,41305,23426,19104,76433,80159,24147,3358,7089,59368,64269,20990,12059,58284,20850,37661,91303,57860,48861,91182,30059,16181,16334,47208,19236,72346,87727,87929,35417,8202,47721,2621,58312,5873,22636,86502,41951,32102,9341,10271,17034,61632,79234,20148,80566,40062,95757,87808,34600,69213,96785,53150,81858,47016,77961,24294,49380,11782,77858,83903,11270,81503,84337,37835,71724,88917,83777,86523,72348,14227,78287,88863,84189,80841,5129,89707,37417,17598,61623,34649,75904,73292,48209,6114,45489,35503,97980,55211,50031,8028,45650,72120,25346,76527,35063,20290,2714,60167,67287,93193,97039,11871,96719,77735,528,47594,25981,51519,89804,42306,60036,45415,37091,57086};
    cout << minDays(vec, 89945,32127);
    return 0;
}